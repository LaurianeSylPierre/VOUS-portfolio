{"version":3,"file":null,"sources":["../src/utils.js","../src/component.js","../src/index.js"],"sourcesContent":["import Hammer from 'hammerjs' // used by guardDirections\n\n/**\n * Tiny Object.assign replacement\n * @param  {Object} target  Any type of object\n * @param  {Object} sources Any type of object\n * @return {Object}         Merged Object\n */\nexport function assign(target, ...sources) {\n  for (let i = 0; i < sources.length; i++) {\n    const source = sources[i]\n    const keys = Object.keys(source)\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n\n/**\n * Small helper method to generate prop options for all the\n * *-options props.\n * @return {[type]} [description]\n */\nexport function createProp() {\n  return {\n    type: Object,\n    default: function() { return {} }\n  }\n}\n\nexport function capitalize (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\n/**\n * Directions that VueTouch understands.\n * Will be tanslated to Hammer-style directions by guardDirections()\n * @type {Array}\n */\nexport const directions = ['up', 'down', 'left', 'right', 'horizontal', 'vertical', 'all']\n\n/**\n * Translates VueTouch direction names into Hammer Direction numbers.\n * @param  {Objects} options Hammer Options\n * @return {Object}         [Hammer Options]\n */\nexport function guardDirections (options) {\n  var dir = options.direction\n  if (typeof dir === 'string') {\n    var hammerDirection = 'DIRECTION_' + dir.toUpperCase()\n    if (directions.indexOf(dir) > -1 && Hammer.hasOwnProperty(hammerDirection)) {\n      options.direction = Hammer[hammerDirection]\n    } else {\n      console.warn('[vue-touch] invalid direction: ' + dir)\n    }\n  }\n  return options\n}\n\n/**\n * This pobject will contain global options for recognizers\n * see index.js -> vueTouch.config\n * @type {Object}\n */\nexport const config = {\n\n}\n\n/**\n * This object will contain recognizer options for custom events.\n * see index.js -> registerCustomEvent\n * @type {Object}\n */\nexport const customEvents = {\n\n}\n\n/**\n * Names of all the builtin gestures of Hammer\n * @type {Array}\n */\nexport const gestures = [\n  'pan','panstart','panmove','panend','pancancel','panleft','panright','panup','pandown',\n  'pinch','pinchstart','pinchmove','pinchend','pinchcancel','pinchin','pinchout',\n  'press','pressup',\n  'rotate','rotatestart','rotatemove','rotateend','rotatecancel',\n  'swipe','swipeleft','swiperight','swipeup','swipedown',\n  'tap'\n]\n\n/**\n * Maps the gestures to their \"main gesture\" (the name of the recognizer)\n * @type {Object}\n */\nexport const gestureMap = {\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  pinch: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  press: 'press',\n  pressup: 'press',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe',\n  tap: 'tap'\n}\n","import Hammer from 'hammerjs'\n\nimport {\n  createProp,\n  capitalize,\n  guardDirections,\n  gestures,\n  gestureMap,\n  directions,\n  assign,\n  config,\n  customEvents\n} from './utils'\n\nexport default {\n  props: {\n    tapOptions: createProp(),\n    panOptions: createProp(),\n    pinchOptions: createProp(),\n    pressOptions: createProp(),\n    rotateOptions: createProp(),\n    swipeOptions: createProp(),\n    tag: { type: String, default: 'div' },\n  },\n\n  mounted() {\n    this.hammer = new Hammer.Manager(this.$el)\n    this.recognizers = {} // not reactive\n    this.setupBuiltinRecognizers()\n    this.setupCustomRecognizers()\n  },\n  destroyed() {\n    this.hammer.destroy()\n  },\n\n  methods: {\n\n    setupBuiltinRecognizers()  {\n      // Built-in Hammer events\n      // We check weither any event callbacks are registered\n      // for the gesture, and if so, add a Recognizer\n      for (let i = 0; i < gestures.length; i++) {\n        const gesture = gestures[i]\n        if (this._events[gesture]) {\n          // get the main gesture (e.g. 'panstart' -> 'pan')\n          const mainGesture = gestureMap[gesture]\n          //merge global and local options\n          const options = assign({}, (config[mainGesture] || {}), this[`${mainGesture}Options`])\n          // add recognizer for this main gesture\n          this.addRecognizer(mainGesture, options)\n          // register Event Emit for the specific gesture\n          this.addEvent(gesture)\n        }\n      }\n    },\n\n    setupCustomRecognizers() {\n      // Custom events\n      // We get the customGestures and options from the\n      // customEvents object, then basically do the same check\n      // as we did for the built-in events.\n      const gestures = Object.keys(customEvents)\n\n      for (let i = 0; i < gestures.length; i++) {\n\n        const gesture = gestures[i]\n\n        if (this._events[gesture]) {\n          const opts = customEvents[gesture]\n          const localCustomOpts = this[`${gesture}Options`] || {}\n          const options = assign({}, opts, localCustomOpts)\n          this.addRecognizer(gesture, options, {mainGesture: options.type})\n          this.addEvent(gesture)\n        }\n      }\n    },\n\n    /**\n     * Registers a new Recognizer with the manager and saves it on the component\n     * instance\n     * @param {String} gesture     See utils.js -> gestures\n     * @param {Object} options     Hammer options\n     * @param {String} mainGesture if gesture is a custom event name, mapping to utils.js -> gestures\n     */\n    addRecognizer: function addRecognizer(gesture, options, { mainGesture } = {}) {\n      // create recognizer, e.g. new Hammer['Swipe'](options)\n      if (!this.recognizers[gesture]) {\n        const recognizer = new Hammer[capitalize(mainGesture || gesture)](guardDirections(options))\n        this.recognizers[gesture] = recognizer\n        this.hammer.add(recognizer)\n        recognizer.recognizeWith(this.hammer.recognizers)\n      }\n    },\n\n    addEvent(gesture) {\n      this.hammer.on(gesture, (e) => this.$emit(gesture, e))\n    },\n\n    // Enabling / Disabling certain recognizers.\n    //\n    enable(r) { this.recognizers[r].set({ enable: true }) },\n    disable(r) { this.recognizers[r].set({ enable: false }) },\n    enableAll(r) { this.toggleAll({ enable: true }) },\n    disableAll(r) { this.toggleAll({ enable: false }) },\n    toggleAll({ enable }) {\n      const keys = Object.keys(this.recognizers)\n      for (let i = 0; i < keys.length; i++) {\n        const r = this.recognizers[keys[i]]\n        r.set({ enable: enable })\n      }\n    },\n    isEnabled(r) {\n      return this.recognizers[r] && this.recognizers[r].options.enable\n    }\n  },\n\n  render(h) {\n    return h(this.tag, {}, this.$slots.default)\n  }\n}\n","import Hammer from 'hammerjs'\n\nimport Component from './component'\nimport { assign, config, customEvents } from './utils'\n\nlet installed = false\n\nconst vueTouch = { config, customEvents }\n\nvueTouch.component = Component\n\n// Plugin API\n// *********\nvueTouch.install = function install(Vue, opts = {}) {\n  const name = opts.name || 'v-touch'\n  Vue.component(name, assign(this.component, { name }))\n  installed = true\n}.bind(vueTouch)\n\nvueTouch.registerCustomEvent = function registerCustomEvent(event, options = {}) {\n  if (installed) {\n    console.warn(`\n      [vue-touch]: Custom Event '${event}' couldn't be added to vue-touch.\n      Custom Events have to be registered before installing the plugin.\n      `)\n    return\n  }\n  options.event = event\n  customEvents[event] = options\n  this.component.props[`${event}Options`] = {\n    type: Object,\n    default() { return {} }\n  }\n}.bind(vueTouch)\n\n// Utilities\n// ********\n\nif (typeof exports == \"object\") {\n  module.exports = vueTouch\n} else if (typeof define == \"function\" && define.amd) {\n  define([], function(){ return vueTouch })\n} else if (window.Vue) {\n  window.VueTouch = vueTouch\n  Vue.use(vueTouch)\n}\n"],"names":["let","const","i","this","gestures"],"mappings":"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"}